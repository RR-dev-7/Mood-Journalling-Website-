<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Diaries</title>
    <link rel="stylesheet" href="mydiaries.css">
</head>
<body>
    <h1>My Diaries</h1>
    <div class="diaries-container">
        <div class="diary-block" onclick="showPopup('2025-02-22', 'This is a preview of the journal entry...')">
            <div class="diary-date">2025-02-22</div>
            <div class="diary-preview">This is a preview of the journal entry...</div>
        </div>
        <div class="diary-block" onclick="showPopup('2025-02-21', 'This is a preview of the journal entry...')">
            <div class="diary-date">2025-02-21</div>
            <div class="diary-preview">This is a preview of the journal entry...</div>
        </div>
        <!-- Add more diary blocks as needed -->
    </div>

    <!-- Popup overlay -->
    <div class="popup-overlay" id="popupOverlay">
        <div class="popup-window" id="popupWindow">
            <button class="close-popup" onclick="hidePopup()">Close</button>
            <h2 id="popupDate"></h2>
            <textarea id="popupContent" rows="10" style="width: 100%; border-radius: 5px; padding: 10px; box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);"></textarea>
            <button class="save-popup" onclick="saveEntry()">Save</button>
            <div class="mood-meter">
                <span>Mood Meter: <span id="moodValue">8/10</span></span>
                <!-- Replace the static value with dynamic value based on journal analysis -->
            </div>
        </div>
    </div>

    <script>
        let diaryEntries = {
            '2025-02-22': 'This is a preview of the journal entry...',
            '2025-02-21': 'This is a preview of the journal entry...'
        };

        function showPopup(date, content) {
            document.getElementById('popupDate').innerText = date;
            document.getElementById('popupContent').value = content;
            document.getElementById('popupOverlay').style.display = 'flex';
            document.getElementById('popupOverlay').setAttribute('data-current-date', date);
        }

        function hidePopup() {
            document.getElementById('popupOverlay').style.display = 'none';
        }

        function saveEntry() {
            const date = document.getElementById('popupOverlay').getAttribute('data-current-date');
            const content = document.getElementById('popupContent').value;
            diaryEntries[date] = content;
            console.log('Entry saved:', content);
            alert('Entry saved successfully!');
            hidePopup();
        }
    </script>
</body>
</html>
